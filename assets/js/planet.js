function Planet(name,index){
  this.name=name;//名字
  this.element=J.id(name);//对应的html元素
  this.index=index;//z-index值
  this.track=S(".track."+name);//轨道对应的html元素
  this.deg=Jet.getRandom(0,359);//当前行星所在的角度， 初始 0-359 度随机一个 
  this.speed=Jet.getRandom(1,6);//行星的速度
  this.len=Jet.getRandom(80,100)*rate;//行星的直径
  this.a=this.track.offsetWidth/2;//椭圆的参数a
  this.b=this.track.offsetHeight/2;//椭圆的参数b
  this.r=this.len/2;//行星半径
  this.isStop=false;//是否停止 ，用于鼠标移上去，行星停止运动
  this.isFront=false;//是否在中心星球的前面，用于设置z-index的值
  this.x=0;//行星的x坐标
  this.y=0;//行星的y坐标
  this.init();
};Planet.prototype.t_deg=-16;//轨道的偏转角度
Planet.prototype.resize=function(){
  this.len=Jet.getRandom(80,100)*rate;
  this.a=this.track.offsetWidth/2;
  this.b=this.track.offsetHeight/2;
  this.r=this.len/2;
  this.element.attr("index",this.index).css({
    width:this.len+"px",
    height:this.len+"px",
    "line-height":this.len+"px",
    "font-size":this.len/5+"px",
  })
};
;Planet.prototype.init=function(){
  var pos=this.getPos(this.deg);
  var z_index;
  if(this.deg>180){
    z_index=planetNum-this.index-1;
    this.isFront=false;
  }else{
    z_index=this.index+1+planetNum;
    this.isFront=true;
  }
  this.element.attr("index",this.index).css({
    width:this.len+"px",
    height:this.len+"px",
    "font-size":this.len/5+"px",
    "line-height":this.len+"px",
    left:(pos.x)+"px",
    top:(pos.y)+"px",
    "background-image":"url('assets/images/p"+this.index+".png')",
    "z-index":""+z_index
  }).event({
    onmouseover:function(){
      planets[this.attr("index")].stop();
    },onmouseleave:function(){
      planets[this.attr("index")].start();
    },
  });
  this.x=pos.x;
  this.y=pos.y;
};Planet.prototype.checkZIndex=function(){
  if(this.isFront&&this.deg>=180){
    this.element.css("z-index",""+(planetNum-this.index-1));
    this.isFront=false;
  }else if(this.deg==0){
    this.element.css("z-index",""+(this.index+1+planetNum));
    this.isFront=true;
  }
};Planet.prototype.act=function(){
  if(!this.isStop){
    this.deg+=this.speed;
    if(this.deg>=360){
      this.deg=0;
    }
    var pos=this.getPos(this.deg);
    this.moveTo(pos.x,pos.y);
    this.checkZIndex();
  }
};Planet.prototype.stop=function(){
  this.isStop=true;
};Planet.prototype.start=function(){
  this.isStop=false;
};Planet.prototype.getPos=function(d){
  var l=this.a*this.b/(Math.sqrt( Math.pow(this.b*Math.cos(d*Math.PI/180),2) + Math.pow(this.a*Math.sin(d*Math.PI/180),2) ));
  return {
    x:cx+l*Math.cos((d+this.t_deg)*Math.PI/180)-this.r,
    y:cy+l*Math.sin((d+this.t_deg)*Math.PI/180)-this.r
  };
};Planet.prototype.move=function(dx,dy){
  this.element.css({
    left:"+="+(dx)+"px",
    top:"+="+(dy)+"px"
  });
  this.x+=dx;
  this.y+=dy;
};Planet.prototype.moveTo=function(x,y){
  this.element.css({
    left:(x)+"px",
    top:(y)+"px"
  });
  this.x=x;
  this.y=y;
};